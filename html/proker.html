<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HIMASI - Program Kerja</title>
  <script>
(function() {
  try {
    var theme = localStorage.getItem('theme');
    if (theme === 'light') document.body.classList.add('light-mode');
    var sidebar = localStorage.getItem('sidebar');
    if (sidebar === 'close') {
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('sidebar')?.classList.add('close');
      });
    }
  } catch(e){}
})();
</script>
  <link rel="stylesheet" href="../css/style.css">
  <script type="text/javascript" defer src="../js/app.js"></script>
  <script type="text/javascript" defer src="../js/srtsrc.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <link rel="icon" type="image/jpeg" href="../img/Himasi.jpeg">
</head>
<body>
    <!-- ======================= HEADER ======================= -->
    <header class="main-header">
        <div class="header-container">
            <div class="header-logo">
                <img src="../img/Himasi.jpeg" alt="Logo HIMASIVERSE" class="logo-img">
                <span class="logo-text">HIMASIVERSE</span>
            </div>
            <nav class="header-nav">
                <a href="#proker-page-header">Proker</a>
                <a href="#filter-container">Filter</a>
                <a href="#proker-grid">Daftar Proker</a>
                <button id="theme-toggle-btn" aria-label="Toggle dark/light mode">
                    <i class="fas fa-moon"></i> <i class="fas fa-sun"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Wrapper untuk konten -->
    <div class="body-wrapper">
        <!-- Sidebar Navigation -->
        <nav id="sidebar">
            <ul>
                <li class="sidebar-header">
                    <img src="../img/Febri.JPG" alt="Foto Profil" class="profile-pic">
                    <div class="profile-info">
                        <span class="profile-name">Febri Putra</span>
                        <span class="profile-role">Anggota PNI - Mahasiswa</span>
                    </div>
                    <button id="toggle-btn"></button>
                </li>
                <li><a href="/html/index.html"><i class="fas fa-home"></i><span>Home</span></a></li>
                <li><a href="/html/pengumuman.html"><i class="fas fa-bullhorn"></i><span>Pengumuman</span></a></li>
                <li class="active"><a href="/html/proker.html"><i class="fas fa-rocket"></i><span>Program Kerja</span></a></li>
                <li><a href="/html/prestasi-karya.html"><i class="fas fa-trophy"></i><span>Prestasi & Karya</span></a></li>
                <li><a href="/html/diskusi.html"><i class="fas fa-comments"></i><span>Forum Diskusi</span></a></li>
                <li><a href="/html/kalender.html"><i class="fas fa-calendar-alt"></i><span>Kalender</span></a></li>
                <li><a href="/html/profile.html"><i class="fas fa-user-circle"></i><span>Profil</span></a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main>
            <div class="proker-page-header" id="proker-page-header">
                <h1>Program Kerja HIMASI</h1>
                <p class="tagline">Daftar proyek dan inisiatif untuk kemajuan bersama.</p>
            </div>

            <!-- Filter and Search -->
            <div class="filter-container" id="filter-container">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Cari program kerja...">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="semua">Semua</button>
                    <button class="filter-btn" data-filter="selesai">Selesai</button>
                    <button class="filter-btn" data-filter="pengerjaan">Pengerjaan</button>
                    <button class="filter-btn" data-filter="perencanaan">Perencanaan</button>
                </div>
            </div>

            <!-- Project Cards Grid -->
            <div class="proker-grid" id="proker-grid">
                <!-- Project Card 1: Selesai - MBKM Karyamulya -->
                <div class="proker-card status-selesai" data-status="selesai">
                    <img src="../img/MBKM.JPG" alt="MBKM Karyamulya" class="proker-img" loading="lazy">
                    <div class="proker-content">
                        <div class="proker-header">
                            <h3>MBKM Karyamulya</h3>
                            <div class="proker-status">Selesai</div>
                        </div>
                        <div class="proker-meta">
                            <span class="proker-date"><i class="fas fa-calendar-alt"></i> Feb 2025</span>
                        </div>
                        <div class="proker-desc">
                            Kegiatan sosial HIMASI untuk mendukung UMKM di Kelurahan Karyamulya, Kota Cirebon melalui program MBKM.
                        </div>
                        <div class="proker-footer">
                            <div class="proker-team">
                                <span>Tim:</span>
                                <img src="https://i.pravatar.cc/24?u=mbkm1" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=mbkm2" alt="Avatar">
                            </div>
                            <a href="proker-detail.html" class="proker-details-btn">Lihat Detail</a>
                        </div>
                    </div>
                </div>
                <!-- Project Card 2: Selesai - Charity & Bukber SI -->
                <div class="proker-card status-selesai" data-status="selesai">
                    <img src="../img/care.png" alt="Charity & Bukber SI" class="proker-img" loading="lazy">
                    <div class="proker-content">
                        <div class="proker-header">
                            <h3>Charity & Bukber SI</h3>
                            <div class="proker-status">Selesai</div>
                        </div>
                        <div class="proker-meta">
                            <span class="proker-date"><i class="fas fa-calendar-alt"></i> Apr 2025</span>
                        </div>
                        <div class="proker-desc">
                            Kegiatan sosial berbagi dan buka puasa bersama mahasiswa Sistem Informasi dan masyarakat sekitar melalui program HIMASI Care.
                        </div>
                        <div class="proker-footer">
                            <div class="proker-team">
                                <span>Tim:</span>
                                <img src="https://i.pravatar.cc/24?u=care1" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=care2" alt="Avatar">
                            </div>
                            <a href="proker-detail.html" class="proker-details-btn">Lihat Detail</a>
                        </div>
                    </div>
                </div>
                <!-- Project Card 3: Selesai - SIBOOK -->
                <div class="proker-card status-selesai" data-status="selesai">
                    <img src="../img/SIBOOK.JPG" alt="SIBOOK Project" class="proker-img" loading="lazy">
                    <div class="proker-content">
                        <div class="proker-header">
                            <h3>SIBOOK (Sistem Informasi Membaca Buku)</h3>
                            <div class="proker-status">Selesai</div>
                        </div>
                        <div class="proker-meta">
                            <span class="proker-date"><i class="fas fa-calendar-alt"></i> Jan 2024 - Apr 2024</span>
                        </div>
                        <div class="proker-desc">
                            Platform digital untuk memudahkan mahasiswa dan dosen dalam melakukan pemesanan ruangan kelas dan fasilitas kampus secara online, meningkatkan efisiensi penggunaan sumber daya.
                        </div>
                        <div class="proker-footer">
                            <div class="proker-team">
                                <span>Tim:</span>
                                <img src="https://i.pravatar.cc/24?u=a" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=b" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=c" alt="Avatar">
                            </div>
                            <a href="proker-detail.html" class="proker-details-btn">Lihat Detail</a>
                        </div>
                    </div>
                </div>
                <!-- Project Card 4: Pengerjaan - Sedina Ning UCIC -->
                <div class="proker-card status-pengerjaan" data-status="pengerjaan">
                    <img src="../img/Sedinadatascience.jpg" alt="Sedina Ning UCIC" class="proker-img" loading="lazy">
                    <div class="proker-content">
                        <div class="proker-header">
                            <h3>SEDINA NING UCIC</h3>
                            <div class="proker-status">Pengerjaan</div>
                        </div>
                        <div class="proker-meta">
                            <span class="proker-date"><i class="fas fa-calendar-alt"></i> Target: 12 Juli 2025</span>
                        </div>
                        <div class="proker-desc">
                            Seminar nasional bertema Data Science dan teknologi terbaru, menghadirkan pembicara ahli dan memperluas jejaring mahasiswa Sistem Informasi.
                        </div>
                        <div class="proker-footer">
                            <div class="proker-team">
                                <span>Tim:</span>
                                <img src="https://i.pravatar.cc/24?u=sedina1" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=sedina2" alt="Avatar">
                            </div>
                            <a href="proker-sedina-detail.html" class="proker-details-btn">Lihat Detail</a>
                        </div>
                    </div>
                </div>
                <!-- Project Card 5: Perencanaan - MELT -->
                <div class="proker-card status-perencanaan" data-status="perencanaan">
                    <img src="../img/simelt.jpg" alt="SIMELT" class="proker-img" loading="lazy">
                    <div class="proker-content">
                        <div class="proker-header">
                            <h3>SIMELT (Sistem Informasi Mental Health)</h3>
                            <div class="proker-status">Perencanaan</div>
                        </div>
                        <div class="proker-meta">
                            <span class="proker-date"><i class="fas fa-calendar-alt"></i>2025</span>
                        </div>
                        <div class="proker-desc">
                            Program mentoring dan belajar bersama untuk mengenali diri sendiri dan menghadapi stress.
                        </div>
                        <div class="proker-footer">
                            <div class="proker-team">
                                <span>Tim:</span>
                                <img src="https://i.pravatar.cc/24?u=melt1" alt="Avatar">
                                <img src="https://i.pravatar.cc/24?u=melt2" alt="Avatar">
                            </div>
                            <a href="proker-detail.html" class="proker-details-btn">Lihat Detail</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

<script>

//PROKER//

let allProkerData = [];  // Simpan semua data HTML + atribut asli

// Ambil data awal saat halaman dimuat
function initProkerData() {
    const cards = Array.from(document.querySelectorAll('.proker-card'));
    allProkerData = cards.map(card => ({
        name: card.querySelector('h3').textContent.trim(),
        desc: card.querySelector('.proker-desc').textContent.trim(),
        status: card.dataset.status,
        date: card.dataset.date || "",
        html: card.outerHTML
    }));
}

// Fungsi utama filter + sort
async function filterAndSortProker() {
    const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
    const activeFilter = document.querySelector(".filter-btn.active").dataset.filter;

    const response = await fetch('/run-python', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            data: allProkerData,
            search: searchTerm,
            sort: "name"
        })
    });

    const filtered = await response.json();

    const container = document.getElementById("proker-grid");
    container.innerHTML = "";

    filtered.forEach(item => {
        if (activeFilter === "semua" || item.status === activeFilter) {
            const temp = document.createElement("div");
            temp.innerHTML = item.html;
            container.appendChild(temp.firstChild);
        }
    });
}

// Inisialisasi saat halaman siap
document.addEventListener("DOMContentLoaded", () => {
    initProkerData();         // Simpan semua proker awal
    filterAndSortProker();    // Render pertama
});

// Event listeners pencarian dan filter
document.getElementById('searchInput').addEventListener('input', filterAndSortProker);

document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelector('.filter-btn.active').classList.remove('active');
        btn.classList.add('active');
        filterAndSortProker();
    });
});
</script>

            <!-- Demo Content -->
    <div class="demo-content">
     
    </div>

    <!-- Chat Bubble Button -->
    <div class="chat-bubble" id="chatBubble">
        <img src="../img/zyrruidle.png" alt="AI Assistant">
    </div>

    <!-- Chat Popup -->
    <div class="chat-popup" id="chatPopup">
        <!-- Close Button -->
        <button class="close-btn" id="closeBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>

        <!-- AI Avatar at Top Center -->
        <div class="chat-avatar">
            <img src="../img/zyrrusmile.png" alt="AI Assistant">
            <div class="chat-avatar-info">
                <h3>Zyrru</h3>
                <div class="status">‚óè Online</div>
            </div>
        </div>

        <!-- Chat Content -->
        <div class="chat-content">
            <!-- Header (Blue Line) -->
            <div class="chat-header"></div>

            <!-- Messages -->
            <div class="chat-messages" id="chatMessages">
                <div class="message ai">
                    <div class="message-bubble">
                        Halo! Aku Zyrru. Apa ada yang bisa kubantu?
                    </div>
                </div>
            </div>

            <!-- Input -->
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pesan Anda...">
                <button class="send-btn" id="sendBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        const chatBubble = document.getElementById('chatBubble');
        const chatPopup = document.getElementById('chatPopup');
        const closeBtn = document.getElementById('closeBtn');
        const sendBtn = document.getElementById('sendBtn');
        const chatInput = document.getElementById('chatInput');
        const chatMessages = document.getElementById('chatMessages');

        // Open chat
        chatBubble.addEventListener('click', () => {
            chatPopup.classList.add('active');
            chatBubble.classList.add('hidden');
            chatInput.focus();
        });

        // Close chat
        closeBtn.addEventListener('click', () => {
            chatPopup.classList.remove('active');
            chatBubble.classList.remove('hidden');
        });

        // Send message
        function sendMessage() {
            const message = chatInput.value.trim();
            if (message === '') return;

            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.innerHTML = `<div class="message-bubble">${message}</div>`;
            chatMessages.appendChild(userMessage);

            // Clear input
            chatInput.value = '';

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate AI response
            setTimeout(() => {
                const aiMessage = document.createElement('div');
                aiMessage.className = 'message ai';
                aiMessage.innerHTML = `<div class="message-bubble">Hai! Aku Zyrru, siap membantu Anda!</div>`;
                chatMessages.appendChild(aiMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }

        // Send on button click
        sendBtn.addEventListener('click', sendMessage);

        // Send on Enter key
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>

    <!-- ======================= FOOTER ======================= -->
    <footer class="main-footer">
        <div class="footer-container">
            <div class="footer-col">
                <h4>Tentang HIMASIVERSE</h4>
                <p>Platform digital Himpunan Mahasiswa Sistem Informasi.</p>
            </div>
            <div class="footer-col">
                <h4>Kontak Organisasi</h4>
                <p><i class="fas fa-map-marker-alt"></i> Jl. Kesambi No.202</p>
                <p><i class="fas fa-envelope"></i> hima.si@cic.ac.id</p>
            </div>
            <div class="footer-col">
                <h4>Media Sosial</h4>
                <div class="social-links">
                    <a href="#"><i class="fab fa-instagram"></i> himasi_ucic</a>
                    <a href="#"><i class="fab fa-youtube"></i> HIMASI UCIC</a>
                    <a href="#"><i class="fab fa-tiktok"></i> himasi.ucic</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 HIMASIVERSE. All Rights Reserved.</p>
        </div>
    </footer>
</body>
</html>
